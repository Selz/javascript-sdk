{"version":3,"file":"scripts.es5.js","sources":["docs/scripts.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    const output = document.getElementById('output');\n\n    function log(label, json) {\n        const details = document.createElement('details');\n\n        const summary = document.createElement('summary');\n        summary.innerHTML = label;\n        details.appendChild(summary);\n\n        const contents = document.createElement('div');\n        const pre = document.createElement('pre');\n        pre.classList.add('prettyprint');\n        pre.innerHTML = JSON.stringify(json, null, 4);\n        contents.appendChild(pre);\n        details.appendChild(contents);\n\n        output.appendChild(details);\n\n        window.prettyPrint();\n    }\n\n    function fail(label, errors) {\n        return log(`${label} (failed)`, errors);\n    }\n\n    const client = new SelzClient({\n        id: 13,\n        // domain: 'local.sampotts.me',\n        env: 'local',\n        colors: { buttons: { background: '#303e4c', text: '#97e66a' }, checkout: { background: '#303e4c', text: '#97e66a' } },\n    });\n\n    // window.client = client;\n\n    log('Config', client.config);\n\n    // Listen for messages\n    // window.addEventListener('message', event => console.warn(event), false);\n\n    function addToCart(product) {\n        client\n            .getCartByCurrency(product.currency_code)\n            .then(cart => {\n                log('Get cart', cart);\n\n                const variant = product.variants && product.variants.length ? product.variants[0].id : null;\n\n                cart\n                    .add({\n                        id: product.id,\n                        quantity: 2,\n                        variant_id: variant,\n                    })\n                    .then(updatedCart => {\n                        log('Add to cart', updatedCart);\n                        updatedCart.checkout();\n                    })\n                    .catch(error => fail('Add to cart', error));\n            })\n            .catch(error => fail('Get cart', error));\n    }\n\n    const products = {\n        GBP: 'http://selz.co/1MaSYRU',\n        USD: 'http://selz.co/1rvbhT6',\n    };\n\n    client\n        .getProduct(products.GBP)\n        .then(product => {\n            log('Product', product);\n\n            window.product = product;\n\n            addToCart(product);\n\n            // product.buy();\n            // product.view();\n        })\n        .catch(errors => fail('Product', errors));\n\n    window.client = client;\n});\n"],"names":["document","addEventListener","log","label","json","details","createElement","summary","innerHTML","appendChild","contents","pre","classList","add","JSON","stringify","prettyPrint","fail","errors","output","getElementById","client","SelzClient","buttons","background","text","checkout","config","getProduct","then","product","getCartByCurrency","currency_code","cart","variant","variants","length","id","updatedCart","catch","error"],"mappings":"AAAAA,SAASC,iBAAiB,mBAAoB,oBAGjCC,EAAIC,EAAOC,OACVC,EAAUL,SAASM,cAAc,WAEjCC,EAAUP,SAASM,cAAc,aAC/BE,UAAYL,IACZM,YAAYF,OAEdG,EAAWV,SAASM,cAAc,OAClCK,EAAMX,SAASM,cAAc,SAC/BM,UAAUC,IAAI,iBACdL,UAAYM,KAAKC,UAAUX,EAAM,KAAM,KAClCK,YAAYE,KACbF,YAAYC,KAEbD,YAAYJ,UAEZW,uBAGFC,EAAKd,EAAOe,UACVhB,EAAOC,cAAkBe,OAtB9BC,EAASnB,SAASoB,eAAe,UAyBjCC,EAAS,IAAIC,eACX,OAEC,gBACKC,SAAWC,WAAY,UAAWC,KAAM,WAAaC,UAAYF,WAAY,UAAWC,KAAM,gBAKxG,SAAUJ,EAAOM,UAkChBC,WALI,0BAMJC,KAAK,cACE,UAAWC,UAERA,QAAUA,WAjCNA,KAEVC,kBAAkBD,EAAQE,eAC1BH,KAAK,cACE,WAAYI,OAEVC,EAAUJ,EAAQK,UAAYL,EAAQK,SAASC,OAASN,EAAQK,SAAS,GAAGE,GAAK,OAGlFxB,QACOiB,EAAQO,YACF,aACEH,IAEfL,KAAK,cACE,cAAeS,KACPZ,aAEfa,MAAM,mBAAStB,EAAK,cAAeuB,OAE3CD,MAAM,mBAAStB,EAAK,WAAYuB,MAevBV,KAKbS,MAAM,mBAAUtB,EAAK,UAAWC,YAE9BG,OAASA"}